!function t(e,i,r){function n(h,o){if(!i[h]){if(!e[h]){var s="function"==typeof require&&require;if(!o&&s)return s(h,!0);if(a)return a(h,!0);var l=new Error("Cannot find module '"+h+"'");throw l.code="MODULE_NOT_FOUND",l}var m=i[h]={exports:{}};e[h][0].call(m.exports,function(t){var i=e[h][1][t];return n(i?i:t)},m,m.exports,t,e,i,r)}return i[h].exports}for(var a="function"==typeof require&&require,h=0;h<r.length;h++)n(r[h]);return n}({1:[function(t){var e=t(7),i=t(6),r=t(4),n=t(5),a=t(3),h=t(2),o=document.querySelector("#game"),s=o.getContext("2d");e.start(function(t){i.gravity(t),r.up()?(i.up(t),n.createParticles(i.x+i.width/2,i.y+i.height,i.angle,Math.PI/10,10,10)):i.move(t),r.right()&&i.right(t),r.left()&&i.left(t),h.check(i,n,a),s.clearRect(0,0,o.width,o.height),a.loop(t,s,i.offsetX,i.offsetY),n.draw(t,s,i),i.draw(t,s)})},{}],2:[function(t,e){var i=function(){},r=function(t,e){return Math.abs(t.x+t.width/2-e.x-e.width/2)>(t.width+e.width)/2||Math.abs(t.y+t.height/2-e.y-e.height/2)>(t.height+e.height)/2?!1:!0},n=function(t,e,i,n){for(var a,h=[],o=0;o<e.length;o++)a=e[o],r(t,a)?(h.push(a),i&&i(a)):n&&n(a);return h},a={x:325,y:225,width:150,height:150},h={x:-400,y:-300,width:1600,height:1200},o=function(t,e,r){var o=e.array,s=r.array,l=n(h,s,void 0,function(t){t.alive=!1});l.length<30&&r.spawn(100*Math.random());for(var m=n(a,s),p=0;p<m.length;p++)i(t,m[p]);for(var p=0;p<o.length;p++)n(o[p],s,function(t){o[p].alive&&(t.alive=!1)})};e.exports={check:o}},{}],3:[function(t,e){for(var i=[],r=["rock-alt-5.png","rock-odd-1.png","rock-odd-3.png","rock-odd-4.png"],n={},a=0;a<r.length;a++)n[r[a]]=new Image,n[r[a]].src="images/"+r[a];var h=function(){return Math.random()},o=function(){return arguments[Math.floor(h()*arguments.length)]},s=.3,l=2,m=800,p=600,f=function(t){console.log("Spawned enemies:",t);for(var e,n,a,f=0;t>f;f++)e={x:h()*m,y:h()*p,speed:h()*(l-s)+s,type:o.apply(this,r),health:100,alive:!0},n=h()*m,a=h()*p,e.angle=h()*Math.PI*2,e.width=100,e.height=60,h()>.5?e.x+=o(-1,1)*(m+e.width):e.y+=o(-1,1)*(p+e.height),i.push(e)},y=function(t,e,r,a){for(var h,o=i.length-1;o>=0;o--)h=i[o],h.alive?(h.x+=Math.cos(h.angle)*h.speed-r,h.y+=Math.sin(h.angle)*h.speed-a,e.fillStyle="red",e.drawImage(n[h.type],h.x,h.y)):i.splice(o,1)};e.exports={loop:y,array:i,spawn:f}},{}],4:[function(t,e){var i=t(6),r={};document.body.addEventListener("keydown",function(t){32===t.keyCode&&(i.flip(),t.preventDefault()),r[t.keyCode]=!0}),document.body.addEventListener("keyup",function(t){r[t.keyCode]=!1}),e.exports={left:function(){return r[37]},up:function(){return r[38]},right:function(){return r[39]},down:function(){return r[40]},flip:function(){return r[32]}}},{}],5:[function(t,e){var i=[],r=5,n=5,a=function(t,e,i,a){this.alive=!0,this.x=t,this.y=e,this.width=r,this.height=n,this.angle=i,this.speed=a,this.opacity=1,this.delay=Math.ceil(10*Math.random()),this.loop=function(t){return this.delay>0?(this.delay--,!1):(this.x+=Math.sin(-this.angle)*a,this.y+=Math.cos(-this.angle)*a,this.opacity-=.1,this.opacity<=0&&(this.opacity=0,this.alive=!1),t.save(),t.globalAlpha=this.opacity,t.translate(this.x,this.y),t.fillStyle="red",t.fillRect(0,0,r,n),void t.restore())}},h=0,o=function(t,e,r,n,o,s){for(var l=0;s>l;l++)(i[l]&&!i[l].alive||!i[l])&&(h=r-n+2*Math.random()*n,i[l]=new a(t,e,h,o))},s=function(t,e,r){for(var n=0;n<i.length;n++)i[n].loop(e,r)};e.exports={createParticles:o,draw:s,array:i}},{}],6:[function(t,e){var i=t(8),r=document.querySelector("#game");window.player={},player.idle=new Image,player.idle.src="images/astro.png",player.flying=new Image,player.flying.src="images/astro-flying.png",player.state="idle",player.width=52,player.height=60,player.x=(r.width-player.width)/2,player.y=(r.height-player.height)/2,player.angle=0,player.offsetX=player.offsetY=0;var n,a=player.width/2,h=player.height/2,o=0,s=0,l=0,m=7,p=10,f=2.2,y=.08;player.gravity=function(){l-=y},player.move=function(t,e){player.offsetX=s,player.offsetY=-l,s*=.99,l*=.99,e||(player.state="idle")},player.up=function(t){player.state="flying",o+=m,n=t*o,s+=Math.sin(player.angle)*n,l+=Math.cos(player.angle)*n,player.move(t,!0),o>p?o=p:-p>o&&(o=-p)},player.right=function(t){player.angle+=t*f*Math.PI},player.left=function(t){player.angle-=t*f*Math.PI},player.flip=function(){player.angle+=Math.PI};var c=new i;player.draw=function(t,e){e.save(),e.translate(player.x+a,player.y+h),c.translate(player.x+a,player.y+h),e.rotate(player.angle),c.rotate(player.angle),e.drawImage(player[player.state],-a,-h),e.restore(),player.topLeft=c.transformPoint(-a,-h),player.topRight=c.transformPoint(a,-h),player.bottomLeft=c.transformPoint(-a,h),player.bottomRight=c.transformPoint(a,h),c.reset()},e.exports=player},{}],7:[function(t,e){function i(t){return window.requestAnimationFrame(function(){var e=Date.now(),i=e-r;i>999?i=1/60:i/=1e3,r=e,t(i)})}var r=0;e.exports={start:function(t){return i(function e(r){t(r),i(e)})},stop:function(t){window.cancelAnimationFrame(t)}}},{}],8:[function(t,e){function i(){this.reset()}i.prototype.reset=function(){this.m=[1,0,0,1,0,0]},i.prototype.multiply=function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],i=this.m[1]*t.m[0]+this.m[3]*t.m[1],r=this.m[0]*t.m[2]+this.m[2]*t.m[3],n=this.m[1]*t.m[2]+this.m[3]*t.m[3],a=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],h=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];this.m[0]=e,this.m[1]=i,this.m[2]=r,this.m[3]=n,this.m[4]=a,this.m[5]=h},i.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,i=-this.m[1]*t,r=-this.m[2]*t,n=this.m[0]*t,a=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),h=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=e,this.m[1]=i,this.m[2]=r,this.m[3]=n,this.m[4]=a,this.m[5]=h},i.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.m[0]*e+this.m[2]*i,n=this.m[1]*e+this.m[3]*i,a=this.m[0]*-i+this.m[2]*e,h=this.m[1]*-i+this.m[3]*e;this.m[0]=r,this.m[1]=n,this.m[2]=a,this.m[3]=h},i.prototype.translate=function(t,e){this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e},i.prototype.scale=function(t,e){this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e},i.prototype.transformPoint=function(t,e){var i=t,r=e;return t=i*this.m[0]+r*this.m[2]+this.m[4],e=i*this.m[1]+r*this.m[3]+this.m[5],[t,e]},e.exports=i},{}]},{},[1]);